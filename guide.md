# WebSquare 개발 성능 가이드

이 문서는 qwen-code 워크스페이스에서 WebSquare 기반 프로젝트를 개발할 때
성능을 안정적으로 끌어올리기 위한 체크리스트와 실전 팁을 정리한 가이드입니다.
프로젝트의 기본 구조나 프레임워크 사용 방식은 조직 표준을 따르되, 아래 항목은
공통적으로 적용하기 좋습니다.

## 1) 로딩 성능 최적화

- 불필요한 초기 렌더링 요소를 줄이고, 초기 화면에 필요한 컴포넌트만 먼저 로드합니다.
- 초기 진입 시 필수 데이터만 요청하고, 부가 데이터는 사용 시점에 지연 로딩합니다.
- 정적 리소스(이미지, 폰트)는 크기와 포맷을 최적화하고 캐시 정책을 설정합니다.
- 공통 라이브러리 또는 모듈은 중복 로드되지 않도록 의존성을 정리합니다.

### WebSquare 모듈 예시

- 화면 초기화(onload 등)에서 필수 데이터만 먼저 조회하고, 탭 전환이나 버튼 클릭 시
  나머지 데이터셋을 로드하도록 분리합니다.
- 여러 화면에서 재사용되는 공통 화면이나 스크립트는 한 번만 로드되도록 모듈 경로를
  통합합니다.
- 로그인 이후 첫 화면에서 대용량 그리드가 필요한 경우, 초기에는 컬럼만 구성하고
  실제 데이터는 사용 시점에 로딩합니다.

## 2) UI 렌더링 최적화

- 큰 목록이나 테이블은 페이지네이션 또는 가상 스크롤을 적용합니다.
- UI 업데이트는 배치 처리하고, 불필요한 재렌더링을 피합니다.
- 컴포넌트 상태는 최소한으로 유지하고, 자주 변하는 값은 별도 관리합니다.
- 스타일 계산이 무거운 경우, 클래스 기반 스타일로 전환하여 계산 비용을 줄입니다.

### WebSquare 모듈 예시

- 그리드에 바인딩된 데이터셋은 변경량이 큰 경우 부분 업데이트를 우선 적용합니다.
- 동일 화면 내에서 반복 렌더링이 발생하는 컴포넌트는 숨김 처리 후 재활용합니다.
- 조건부 표시가 많은 영역은 레이아웃 계산이 반복되지 않도록 구조를 단순화합니다.

## 3) 데이터 처리 최적화

- 서버 응답 데이터는 필요한 필드만 요청하여 전송량을 줄입니다.
- 동일한 데이터 요청이 반복되는 경우 캐시 전략을 적용합니다.
- 대량 데이터는 클라이언트에서 가공하기보다 서버에서 필터링/정렬 후 전달합니다.
- 데이터 변환 로직은 순수 함수로 분리해 테스트와 재사용성을 높입니다.

### WebSquare 모듈 예시

- 데이터셋 초기화 시 컬럼 정의를 최소화하고, 실제 사용 컬럼만 유지합니다.
- 그리드-데이터셋 바인딩은 필요한 화면에서만 연결하고, 화면 종료 시 해제합니다.
- 대량 데이터는 서버에서 요약/집계 후 내려받고, 클라이언트에서는 표시만 수행합니다.

## 4) 이벤트 처리 최적화

- 스크롤, 리사이즈, 입력 이벤트는 디바운스/쓰로틀을 적용합니다.
- 이벤트 핸들러 내에서 DOM 탐색이나 복잡한 연산을 최소화합니다.
- 동일한 이벤트 리스너를 중복 등록하지 않도록 초기화 흐름을 관리합니다.

### WebSquare 모듈 예시

- 키 입력 이벤트는 일정 주기마다 처리하도록 제어하고, 필드 검증은 입력 완료 후에
  실행합니다.
- 동일한 화면에서 재진입이 잦은 경우, 이벤트 핸들러 중복 등록 여부를 점검합니다.

## 5) 네트워크 최적화

- API 호출 수를 줄이기 위해 배치 요청 또는 합성 API를 고려합니다.
- 요청 실패 시 재시도 정책은 최소화하고, 사용자에게 빠르게 피드백을 제공합니다.
- API 응답은 gzip/deflate 압축을 사용하도록 서버 설정을 확인합니다.

### WebSquare 모듈 예시

- 화면 전환 시 동일 API가 반복 호출되지 않도록 요청 상태를 캐싱합니다.
- 제출(submission) 사용 시, 요청 파라미터를 최소화하고 응답 형태를 표준화합니다.

## 6) 로깅 및 모니터링

- 성능 관련 로그는 개발/운영 환경을 구분해 수집합니다.
- 화면 로딩 시간, API 응답 시간 등 주요 지표를 모니터링합니다.
- 현상 재현이 어려운 성능 이슈는 타이밍 로그로 추적 지점을 확보합니다.

### WebSquare 모듈 예시

- 화면 진입부터 초기 데이터 로딩 완료까지의 시간을 별도 로그로 남깁니다.
- 특정 화면에서 반복적으로 느린 요청은 요청 파라미터와 응답 크기를 기록합니다.

## 7) 빌드 및 배포 최적화

- 불필요한 번들 리소스를 제거하고, 사용하지 않는 코드는 정리합니다.
- 번들 분석 도구로 큰 용량의 모듈을 식별해 대체하거나 지연 로딩합니다.
- 배포 시 정적 리소스에 해시를 적용해 캐시 효율을 높입니다.

### WebSquare 모듈 예시

- 공통 스크립트와 화면 리소스는 중복 포함되지 않도록 배포 경로를 정리합니다.
- 자주 변경되는 리소스는 버전 규칙을 적용해 캐시 무효화를 쉽게 만듭니다.

## 8) 점검용 체크리스트

- 초기 진입 시 데이터 요청이 과하지 않은가?
- 화면 전환 시 불필요한 재렌더링이 발생하지 않는가?
- 이벤트 리스너가 중복 등록되지는 않는가?
- 네트워크 요청이 중복되거나 과도하지 않은가?
- 번들 크기 증가 원인을 추적하고 있는가?

## 권장 작업 흐름

1. 성능 이슈를 재현 가능한 형태로 정의한다.
2. 병목 지점을 측정하고, 원인을 분리한다.
3. 개선 전후 수치를 기록해 실제 효과를 검증한다.

## 다른 환경으로 옮길 때 수정 포인트

- 리소스 경로: 화면/스크립트/이미지의 base 경로와 컨텍스트 루트를 재확인합니다.
- 배포 설정: 캐시 정책, 정적 리소스 해시 규칙, 압축 설정을 환경에 맞게 조정합니다.
- API 엔드포인트: 서버 URL, 프록시 설정, 인증 헤더 방식이 다른지 확인합니다.
- 로깅 수집: 운영 환경의 로그 레벨, 수집 경로, 개인정보 마스킹 규칙을 반영합니다.
- 권한/접근 제어: 화면 접근 권한 및 메뉴 구성 방식이 동일한지 점검합니다.

## 화면 흐름별 예시

### 조회 화면

- 초기 조회는 필수 조건만 적용하고, 상세 조건은 추가 버튼으로 분리합니다.
- 대량 조회는 기본 페이지 크기를 낮추고, 사용자 선택으로 확장합니다.
- 조회 결과 그리드는 컬럼 숨김/보이기 기능을 기본 제공해 화면 복잡도를 줄입니다.

### 저장/등록 화면

- 입력 검증은 필수 필드만 즉시 처리하고, 복합 검증은 저장 직전에 수행합니다.
- 저장 요청은 제출 파라미터를 최소화하고, 서버에서 기본값을 채웁니다.
- 저장 후 재조회가 필요한 경우, 변경된 키 값만 재조회하도록 범위를 축소합니다.

### 엑셀 다운로드/업로드

- 다운로드는 서버에서 필터링/정렬을 완료한 결과를 생성해 전송량을 줄입니다.
- 업로드는 행 단위 검증 대신 묶음 검증을 적용해 처리 시간을 줄입니다.
- 대용량 업로드는 배치 처리와 진행 상태 표시로 사용자 체감을 개선합니다.

필요하면 프로젝트 특성에 맞춰 항목을 추가하거나 재구성하세요.
